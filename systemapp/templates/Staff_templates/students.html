{% extends '../base.html' %}
{% load teacher_template_tags %} 
{% load static %}

{% block content %}

   <body>
      {% include "main-wrapper.html" %}
         {% include "sidebar.html" %}
         <div class="page-wrapper">
            <div class="content container-fluid">
               <div class="page-header">
                  <div class="row align-items-center">
                     <div class="col">
                        <h3 class="page-title"></h3>
                        <ul class="breadcrumb">
                           {{current_subject.subject_name}} {{ current_subject.class_id.name  }}  students
                           <li class="breadcrumb-item active"></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="row">
                  <div class="col-sm-12">
                     <div class="card">
                        <div class="card-body">
                            <div class="table-responsive">
                              <table class="table table-hover table-center mb-0 ">
                                 <thead>
                                    <tr>
                                       <th>Student ID</th>
                                       <th>Name</th>
                                       
                                       <th>Cat one</th>
                                       <th>Cat two</th>
                                       <th>End Term</th>
                                       <th>Grade</th>
                                     
                                   
                                       <th class="text-right">Action</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    {% for student in students %}
                                    {% get_student_marks student.id current_subject.id as marks %} 
                                    <tr>
                                       <td> <span> {{student.student_id}}</span></td>
                                       <td><span>
                                          <h2 class="table-avatar">
                                             <a  class="avatar avatar-sm mr-2"><img class="avatar-img rounded-circle " src="{{student.profile_pic.url}}" alt="User Image"></a>
                                             <a >{{student.users_type.first_name}} {{student.users_type.last_name}}</a>
                                          </h2></span>
                                       </td>
                                    <td><span>{{marks.subject_exam1_marks}}</span></td>
                                    <td><span>{{marks.subject_exam2_marks}}</span></td> 
                                    <td><span>{{marks.subject_endexam_marks}}</span></td>
                                    <td><span>{{marks.grade}}</span></td>
                                    
                                       <td class="text-right">
                                          
                                          <div class="actions">
                                             {% if marks %}
                                             <a href="#" class="btn btn-sm bg-danger-light mr-2 badge badge-success" data-toggle="modal" data-target="#exampleModalScrollable">
                                             <!-- <i class="fas fa-plus"></i> -->
                                             edit
                                             </a>
                                             {% else %}
                                              <!-- Button trigger modal -->
                                             <a href="#" class="btn btn-sm bg-success-light badge badge-success" data-toggle="modal" data-target="#exampleModalScrollable">
                                           

 
 <!-- Modal -->
 <!-- <div class="modal fade" id="exampleModalScrollable" tabindex="-1" role="dialog" aria-labelledby="exampleModalScrollableTitle" aria-hidden="true">
   <div class="modal-dialog modal-dialog-scrollable" role="document">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title" id="exampleModalScrollableTitle">Modal title</h5>
         <button type="button" class="close" data-dismiss="modal" aria-label="Close">
           <span aria-hidden="true">&times;</span>
         </button>
       </div>
       <div class="modal-body">
         ...
       </div>
       <div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
         <button type="button" class="btn btn-primary">Save changes</button>
       </div>
     </div>
   </div>
 </div> -->
                                             add
                                             
                                             </a>
                                             {% endif %}
                                          </div>

                                       </td>
                                    </tr>
                                    {% endfor %}
                                 </tbody>
                               
                              </table>
                             </div>
                          
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div id="modal" class="modal fade">
            <div id="dialog" class="modal-dialog" hx-target="this"></div>
          </div>
   </body>


   {% endblock %}
   
</html>